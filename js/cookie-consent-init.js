var cookieConsent=function(l){"use strict";var u,k=function(e){"unchecked"===e&&l(".switch input").prop("checked",!1),"checked"===e&&l(".switch input").prop("checked",!0)},d=function(e){"unchecked"===e&&l(".marketing-checkbox").prop("checked",!1),"checked"===e&&l(".marketing-checkbox").prop("checked",!0)},p=function(e){"unchecked"===e&&l(".tracking-checkbox").prop("checked",!1),"checked"===e&&l(".tracking-checkbox").prop("checked",!0)},h=function(e){var c=new Date,s=c.getTime()+315576e5;c.setTime(s),document.cookie="allow"===e?"disallow_marketing=false;expires="+c.toGMTString()+";path=/":"disallow_marketing=true;expires="+c.toGMTString()+";path=/"},g=function(e){var c=new Date,s=c.getTime()+315576e5;c.setTime(s),document.cookie="allow"===e?"disallow_tracking=false;expires="+c.toGMTString()+";path=/":"disallow_tracking=true;expires="+c.toGMTString()+";path=/"},b=function(e,c){"undefined"!=typeof Storage?localStorage.setItem(e,c):console.log("No support for local storage")},m=function(e){if("undefined"!=typeof Storage)return localStorage.getItem(e);console.log("No support for local storage")};return{init:function(e){var c,s,i,o,t,n,a,r;c=e,s=document.cookie.replace(/(?:(?:^|.*;\s*)disallow_tracking\s*\=\s*([^;]*).*$)|^.*$/,"$1"),i=document.cookie.replace(/(?:(?:^|.*;\s*)disallow_marketing\s*\=\s*([^;]*).*$)|^.*$/,"$1"),n='<h2><label class="switch"><input type="checkbox"><span class="slider round"></span></label> Third-party cookies</h2>',a=t=o="",r="We use cookies to ensure the best browsing experience and help us improve this website",c.tracking&&c.marketing&&(s||g("disallow"),t="true"===s&&s?'<div class="checkbox"><label><input type="checkbox" class="tracking-checkbox" value="tracking">Tracking cookies help us track use of our website and make improvements.</label></div>':'<div class="checkbox"><label><input type="checkbox" class="tracking-checkbox" value="tracking" checked>Tracking cookies help us track use of our website and make improvements.</label></div>'),c.tracking&&!c.marketing&&(s||g("disallow"),t="true"===s&&s?'<div class="checkbox"><label><input type="checkbox" class="tracking-checkbox" value="tracking">Tracking cookies help us track use of our website and make improvements.</label></div>':'<div class="checkbox"><label><input type="checkbox" class="tracking-checkbox" value="tracking" checked>Tracking cookies help us track use of our website and make improvements.</label></div>'),c.marketing&&(r="We use cookies to ensure you have the best browsing experience, to help us improve our website and for targeted advertising.",i||h("disallow"),o="true"===i&&i?'<div class="checkbox"><label><input type="checkbox" class="marketing-checkbox" value="marketing">Marketing cookies are used to provide you with personalised marketing after you have visited our website.</label></div>':'<div class="checkbox"><label><input type="checkbox" class="marketing-checkbox" value="marketing" checked>Marketing cookies are used to provide you with personalised marketing after you have visited our website.</label></div>'),(c.marketing||c.tracking)&&(n="true"===s||"true"===i?'<h2><label class="switch"><input type="checkbox"><span class="slider round"></span></label> Third-party cookies</h2>':'<h2><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label> Third-party cookies</h2>',a='<a href="#" class="cc-settings">Settings</a>'),window.cookieconsent.initialise({container:l("#cookie-consent"),elements:{header:"",message:'<div class="cookie-heading"><h2>Cookies</h2></div><div class="cookie-consent" id="cookieconsent:desc">'+r+". By continuing to browse the site you are agreeing to our use of cookies.</div>",messagelink:'<div class="cookie-heading"><h2>Cookies</h2></div><div class="cookie-consent" id="cookieconsent:desc">'+r+'. By continuing to browse the site you are agreeing to our use of cookies. <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="'+c.url+'" target="_blank">Find out more</a></div><div class="cookie-settings"><form><div class="settings-heading"><h2>Cookie Settings</h2><div class="form-group"><a tabindex="0" class="btn btn-wide btn-brand-2 settings-dismiss">Save settings</a></div></div><div class="settings-form"><h2>Strictly necessary cookies</h2><p>These cookies are essential so that you can move around the website and use its features. Without these cookies services you have asked for cannot be provided.</p>'+n+'<div class="settings-indiv">'+t+o+"</div></div></form></div>",dismiss:'<a aria-label="dismiss cookie message" tabindex="0" class="btn btn-primary cc-btn cc-dismiss">Accept</a>'+a,allow:"",deny:"",link:"",close:""},revokable:!0,law:{regionalLaw:"UK"},location:!1},function(e){u=e,m("consent")||(u.open(),b("consent","shown"))},function(e){console.error(e)}),l(".cc-privacy-link").on("click",function(e){e.preventDefault(),u.open()}),l(document).ready(function(){l(".switch input").prop("checked",!0),l(document).on("click",".cc-settings",function(e){e.preventDefault(),l(".cookie-heading, .cookie-consent, .cc-compliance").fadeOut(400),l(".cookie-settings").delay(400).fadeIn(400)}),l(document).on("click",".settings-dismiss",function(e){e.preventDefault(),l(".cookie-settings").fadeOut(400),l(".cookie-heading, .cookie-consent, .cc-compliance").delay(400).fadeIn(400)}),l(document).on("change",".checkbox input",function(){l(".checkbox input:checked").length===l(".checkbox input").length?k("checked"):k("unchecked")}),l(document).on("change",".marketing-checkbox",function(){l(".marketing-checkbox").is(":checked")?h("allow"):h("disallow")}),l(document).on("change",".tracking-checkbox",function(){l(".tracking-checkbox").is(":checked")?g("allow"):g("disallow")}),l(document).on("click",".switch input",function(e){l(".switch input").is(":checked")?(k("checked"),h("allow"),d("checked"),g("allow"),p("checked")):(k("unchecked"),h("disallow"),d("unchecked"),g("disallow"),p("unchecked"))})}),m("consent")}}}(jQuery),gulp=require("gulp"),sass=require("gulp-sass"),autoprefixer=require("gulp-autoprefixer"),cleanCSS=require("gulp-clean-css"),purge=require("gulp-css-purge"),sourcemaps=require("gulp-sourcemaps"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),babel=require("gulp-babel"),fs=require("fs");gulp.task("sass",function(){return gulp.src("scss/style.scss").pipe(sourcemaps.init()).pipe(sass({includePaths:["./scss"],errLogToConsole:!0,outputStyle:"compressed"})).pipe(cleanCSS()).pipe(purge({trim:!0,shorten:!0,verbose:!0})).on("error",console.error.bind(console)).pipe(autoprefixer({browsers:["last 2 versions","> 5%","Firefox ESR"]})).pipe(concat("cookie-consent-init.css")).pipe(gulp.dest("./css/"))}),gulp.task("compress",function(){return gulp.src("./*.js").pipe(babel({presets:[["env",{modules:!1,targets:{browsers:["last 3 versions","ie >= 11"]}}]]})).pipe(concat("cookie-consent-init.js")).pipe(uglify()).pipe(gulp.dest("./js/"))}),gulp.task("watch",function(){gulp.watch("scss/**/*.scss",{interval:750},["sass"]),gulp.watch("./*.js",{interval:1e3},["compress"])}),gulp.task("default",["sass","compress","watch"]);